I"<h3 id="android-jetpack-navigation-component">Android Jetpack Navigation Component<br /></h3>

<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Jetpack Navigation Componentë¥¼ í™œìš©í•˜ì—¬ Fragmentê°„ì˜ ì „ì´ ì²˜ë¦¬í•˜ëŠ” ê²ƒì— ëŒ€í•´ì„œ ë°°ì›Œ ë³¼ ê²ƒì´ë‹¤.<br /></p>

<p><strong><font color="Blue">â‘  app gradleì— dependencies ì¶”ê°€í•˜ê¸°</font></strong> <br /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def nav_version = "2.3.0-alpha05"
// Kotlin
implementation "androidx.navigation:navigation-fragment-ktx:$nav_version"
implementation "androidx.navigation:navigation-ui-ktx:$nav_version"

def material_version = "1.2.0-alpha05"
implementation "com.google.android.material:material:$material_version"
</code></pre></div></div>

<p>â€» navigation graph ê¸°ëŠ¥</p>

<p>(1) resouce - [New Resource File] - (File name : nav_graph / Resource type : Navigation)<br />
(2) ìœ„ì˜ nav_graph íŒŒì¼ì— í™”ë©´ì— ë³´ì—¬ì§ˆ UIì˜ í™”ë©´ ì„¤ê³„êµ¬ì¡°ë¥¼ êµ¬ì¡°í™”ì‹œí‚¬ ìˆ˜ ìˆë‹¤.<br />
(3) activity_main.xml ì—ì„œ <fragment> tagë¡œ í™”ë©´ì„ ì±„ìš°ëŠ”ë° <strong>ì´ ë¶€ë¶„ì´ ê°ê° ìƒì„±í•œ Fragment layoutì„ inflateí•˜ëŠ” ë¶€ë¶„</strong>ì´ ë  ê²ƒì´ë‹¤.<br />
ì´ fragment tagì•ˆì— ì†ì„±ì—ì„œ ì‚´í´ë³¼ ê²ƒì€, <strong>defaultNavHost = "true"ì™€ app:navGraph = "@navigation/nav_graph" ì¸ë° ë‘ë²ˆì§¸ navGraph ì†ì„±ì€ navigation typeì˜ layoutì— ìƒì„±í•  layoutì˜ êµ¬ì¡°ë¥¼ settingí•˜ê² ë‹¤ëŠ” ì˜ë¯¸, ë§ˆì§€ë§‰ìœ¼ë¡œ android:name="androidx.navigation.fragment.NavHostFragment"ì†ì„±ë„ í•„ìˆ˜ì ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</strong><br /></fragment></p>

<p>(4) ì‘ì„±í•œ Fragment layoutíŒŒì¼(*.xml)ì—ì„œ ê°€ì¥ ìƒë‹¨ tagì˜ ì†ì„±ì— <strong>tools:context = â€œxxxxxFragmentâ€ </strong>ë¼ê³  ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.<br />
ì´ layout íŒŒì¼ì´ ì–´ëŠ fragment í´ë˜ìŠ¤ íŒŒì¼ê³¼ ê´€ë ¨ì´ ìˆëŠ”ì§€ í‘œì‹œí•˜ê¸° ìœ„í•´ì„œì´ë‹¤.<br /></p>

<p><strong><font color="Blue">â‘¡ MainActivityì—ì„œëŠ” í™”ë©´ì˜ fragment íƒœê·¸ì—ì„œ fragment ë ˆì´ì•„ì›ƒì„ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ë§Œ í•˜ë¯€ë¡œ, ì‹¤ì§ˆì ì¸ Navigation ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•´ì£¼ëŠ” ê²ƒì€ Fragment classì—ì„œ í•´ì¤„ ê²ƒì´ë‹¤.</font></strong><br /></p>

<p>(1) onViewCreated() ë©”ì†Œë“œì—ì„œ propertyë¡œ ì„ ì–¸í•œ NavController íƒ€ì…ì˜ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”ì‹œì¼œì¤€ë‹¤. <br /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
    super.onViewCreated(view, savedInstanceState)
    // reference of the view
    navController = Navigation.findNavController(view)
    view_transactions_btn.setOnClickListener(this)
    send_money_btn.setOnClickListener(this)
    view_balance_btn.setOnClickListener(this)
}
</code></pre></div></div>

<p>ì´ MainFragmentë„ nav_graphì— ë“±ë¡ëœ Fragmentì´ê¸° ë•Œë¬¸ì— navControllerê°ì²´ì˜ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤. <br /></p>

<p>(2) ì´ì œ ì´ navControllerë¥¼ ì´ìš©í•´ì„œ ê° ë²„íŠ¼ì˜ onClickListenerì˜ ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•  ê²ƒì´ë‹¤.<br /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>override fun onClick(v: View?) {
  // backStackê´€ë¦¬ê°€ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— í¸ë¦¬í•˜ë‹¤.
  when(v!!.id){
      R.id.view_transactions_btn -&gt; navController.navigate(R.id.action_mainFragment_to_viewTransactionFragment)
      R.id.send_money_btn -&gt; navController.navigate(R.id.action_mainFragment_to_chooseRecipientFragment)
      R.id.view_balance_btn -&gt; navController.navigate(R.id.action_mainFragment_to_viewBalanceFragment)
  }
}
</code></pre></div></div>

<p>ìœ„ì˜ â‘¡-(1)ê³¼ (2)ì˜ ê³¼ì •ì„ ë‹¤ë¥¸ Fragmentì—ì„œë„ ì‘ì„±ì„ ì‘ì„±í•´ì¤€ë‹¤. <br /></p>

<p><strong><font color="Blue">â‘¢ ë‹¤ìŒ ê³¼ì •ì—ì„œëŠ” animation, bundleì„ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì´ë‹¤.</font></strong><br /></p>

<p>ex)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>....
&lt;fragment
    android:id="@+id/mainFragment"
    android:name="com.hyungilee.androidjetpacknavigationsample.MainFragment"
    android:label="fragment_main"
    tools:layout="@layout/fragment_main" &gt;
      &lt;action
        android:id="@+id/action_mainFragment_to_chooseRecipientFragment"
        app:destination="@id/chooseRecipientFragment"
        app:popEnterAnim="@anim/slide_in_left"
        app:popExitAnim="@anim/slide_out_right"
        app:enterAnim="@anim/slide_in_right"
        app:exitAnim="@anim/slide_out_left"
        app:popUpTo="@id/mainFragment"
        app:popUpToInclusive="true"/&gt;
 ....
</code></pre></div></div>

<p>backStackì´ë‚˜ Backë²„íŠ¼ì„ ëˆŒë €ì„ë•Œ ì ìš©ë˜ëŠ” animationíš¨ê³¼ëŠ” popExitAnim ì†ì„±ì´ë‹¤. <br /></p>

<p>ë‹¤ìŒ ì–´í”Œì„ ì œì‘í• ë•Œ ìƒê°í•´ë´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ ëŒ€ë¶€ë¶„ì˜ ì–´í”Œì— ìˆëŠ” Login ê¸°ëŠ¥ì´ë‹¤. <br /></p>

<p>ë¡œê·¸ì¸ì´ ì„±ê³µí•œ ë’¤ì— Back ë²„íŠ¼ì„ ëˆ„ë¥´ê²Œ ë˜ë©´, ì´ì „ì˜ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì´ ì•„ë‹Œ ì–´í”Œìì²´ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ê³  ë‹¨ë§ê¸°ì˜ Backgroundê°€ í‘œì‹œë¨ì„ ì•Œ ìˆ˜ ìˆë‹¤. (ë¡œê·¸ì¸ ì™„ë£Œëœ í›„ì— Backë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤ê³  ë‹¤ì‹œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì€ non senseìƒí™©)<br /></p>

<p>ì´ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë™ì‘ì— ëŒ€í•´ì„œ ìƒê°í•´ë³´ì.<br />
Backë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤ê³  ì´ì „í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ì§€ ì•Šê³ , BackStackì—ì„œ ì‹¤í–‰ë˜ëŠ” Taskë“¤ì„ ëª¨ë‘ ì¢…ë£Œì‹œí‚¤ëŠ” ê²ƒì„ í•´ë³´ì.<br /></p>

<p><strong>popUpTo and popUpToInclusive</strong><br />
â‘  popUpTo : Back ë²„íŠ¼ì„ ëˆŒë €ì„ë•Œ ì´ë²¤íŠ¸ã€€<br />
â‘¡ popUpToInclusive : true(clear everything to navigate) or false(leave it) <br /></p>

<p><strong>â€» Android ê³µì‹ : </strong><a href="https://developer.android.com/guide/navigation/navigation-getting-started">Get started with the Navigation component</a></p>

<p><strong>Fragment ê°„ì— ê°’ì„ ë³´ë‚´ê¸°</strong><br /></p>

<p>ë¨¼ì € ì•„ë˜ sample ì½”ë“œë¥¼ ë³´ê³  nav_graph.xmlì—ì„œì˜ ì„¤ì •ì— ëŒ€í•´ì„œ ì´í•´í•´ë³´ë„ë¡ í•˜ì. <br /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>....
&lt;fragment
    android:id="@+id/confirmationFragment"
    android:name="com.hyungilee.androidjetpacknavigationsample.ConfirmationFragment"
    android:label="fragment_confirmation"
    tools:layout="@layout/fragment_confirmation"&gt;

    &lt;argument android:name="recipient"
              android:defaultValue="None"/&gt;

    &lt;argument android:name="amount"
              app:argType="com.hyungilee.androidjetpacknavigationsample.Money"/&gt;

&lt;/fragment&gt;

&lt;fragment
    android:id="@+id/specifyAmountFragment"
    android:name="com.hyungilee.androidjetpacknavigationsample.SpecifyAmountFragment"
    android:label="fragment_specify_amount"
    tools:layout="@layout/fragment_specify_amount" &gt;

    &lt;argument android:name="recipient"
              android:defaultValue="None"/&gt;
....              
</code></pre></div></div>

<h3 id="ì „ì²´ì ì¸-í•™ìŠµë‚´ìš©ì„-ë³µìŠµí•œë‹¤">ì „ì²´ì ì¸ í•™ìŠµë‚´ìš©ì„ ë³µìŠµí•œë‹¤.<br /></h3>
<ol>
  <li><br /></li>
</ol>
:ET