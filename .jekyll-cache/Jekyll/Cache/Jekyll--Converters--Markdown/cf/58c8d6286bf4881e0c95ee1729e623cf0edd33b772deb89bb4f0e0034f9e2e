I"İ<p>ì´ë²ˆì— í¬ìŠ¤íŒ…ì—ì„œëŠ” ListView, RecyclerView, ViewHolderì˜ ê°œë…ë“¤ì— ëŒ€í•´ì„œ ê³µë¶€í•˜ë©´ì„œ ê°„ë‹¨í•œ ì–´í”Œì„ ë§Œë“¤ì–´ ë³¼ ê²ƒì´ë‹¤.</p>

<h3 id="-model-data-structure"><strong><font color="Blue">â‘  Model (Data structure)</font></strong></h3>
<p>ìš°ì„ ì ìœ¼ë¡œ ìƒê°í•´ì•¼ë˜ëŠ” ë¶€ë¶„ì€ Viewì— ë³´ì—¬ì¤„ dataì˜ êµ¬ì¡°ì´ë‹¤.<br />
ì´ë²ˆì— ì˜ˆì‹œë¡œ ë§Œë“¤ì–´ ë³¼ ì–´í”Œì—ì„œëŠ” categoriesì™€ product í•­ëª©ì´ ìˆë‹¤. ë”°ë¼ì„œ ì´ í•­ëª©ë“¤ì„ ê°ì²´í™”í•  classë¥¼ ì‘ì„±í•  ê²ƒì´ë‹¤.<br />
ex) Category, Product<br />
ìœ„ì˜ Viewì— ë³´ì—¬ì¤„ dataê°ì²´ì˜ classëŠ” ì „ë¶€ <strong>â€œmodelsâ€ package</strong>ì•ˆì— ì‘ì„±ì„ í•´ì¤„ ê²ƒì´ë‹¤.<br /></p>

<h3 id="-controller"><strong><font color="Blue">â‘¡ Controller</font></strong></h3>
<p>ë‹¤ìŒìœ¼ë¡œ <strong>â€œcontrollersâ€ package</strong>ë¥¼ ì‘ì„±í•´ì¤€ë‹¤. ì´ ì•ˆì—ëŠ” ê¸°ë³¸ ìƒì„±ë˜ëŠ” MainActivityê°€ ìœ„ì¹˜í•œë‹¤.</p>

<h3 id="-services"><strong><font color="Blue">â‘¢ Services</font></strong></h3>
<p>ë‹¤ìŒìœ¼ë¡œ <strong>â€œservicesâ€ package</strong>ë¥¼ ì‘ì„±í•´ì¤€ë‹¤. íŒŒì¼ì„ ì‘ì„±í• ë•ŒëŠ” File typeì„ Objectë¡œ í•˜ê³ , ì´ë¦„ì€ DataServiceë¡œ ì‘ì„±í•œë‹¤.<br />
ì•ˆì— ì‘ì„±í•˜ê²Œ ë  ë‚´ìš©ì€, Googleì—ì„œ â€œKotlin object singletonâ€ ì´ë¼ê³  ê²€ìƒ‰ì„ í•´ì„œ ì‘ì„±ë²•ì— ëŒ€í•´ì„œ ì´í•´í•˜ê³  ì‘ì„±í•˜ë©´ ëœë‹¤. â†’ <a href="https://kotlinlang.org/docs/reference/object-declarations.html">Kotlin object singleton</a> <br /></p>

<p>ë‹¤ìŒê³¼ ê°™ì´ ê° í•­ëª©ì˜ List dataë¥¼ ì„ ì–¸í•´ì¤€ë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>object DataService {

  val categories =  listOf(
      Category("SHIRTS", "shirtimage"),
      Category("HOODIES", "hoodieimage"),
      Category("HATS", "hatimage"),
      Category("DIGITAL", "digitalgoodsimage"),
      ....
      )

  val hats = listOf(
      Product("Devslopes Graphic Beanie","$18","hat1"),
      Product("Devslopes Graphic Black","$20","hat2"),
      ....
      )

  val hoodies = listOf(
      Product("Devslopes Hoodie Gray","$28", "hoodie1"),
      Product("Devslopes Hoodie Red","$30", "hoodie2"),
      ....
      )

  val shirts = listOf(
      Product("Devslopes Shirt black","$28", "shirt1"),
      Product("Devslopes Shirt Red","$20", "shirt2"),
      ....
      )

  val digitalGood = listOf&lt;Product&gt;()

  fun getProducts(category: String) : List&lt;Product&gt;{
      return when(category){
          "SHIRTS"-&gt; return shirts
          "HATS" -&gt; return hats
          "HOODIES" -&gt; return hoodies
          else -&gt; return digitalGood
        }
    }
}
</code></pre></div></div>

<p>ListViewì™€ Adapter, Dataì˜ ê´€ê³„[?]ì— ëŒ€í•´ì„œ ì´í•´ë¥¼ í•´ë³´ì. ìš°ì„  UIì—ëŠ” ListViewê°€ ì¶”ê°€ë˜ì–´ìˆê³ , ì´ ListViewì— í‘œì‹œí•˜ê³ ì í•˜ëŠ” ë°ì´í„°ê°€ í•„ìš”í•˜ë‹¤. ì´ DataëŠ” raw dataì¸ë° ì´ë¥¼ ì•Œë§ê²Œ ListViewì— formattingí•´ì„œ í‘œì‹œí•´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ <strong>Adapter</strong>ì´ë‹¤.</p>

<p><img src="/images/android/2020-04-08 data, adapter, ListView.png" alt="blog capture" width="500" title="capture img" /><br /></p>

<p>ì´ AdapterëŠ” Controller Packageì˜ classì— ì‘ì„±í•´ì¤€ë‹¤.
ì ê·¸ëŸ¼ ì´ì œ Androidì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” Layoutì„ í™œìš©í•´ì„œ Adapterë¥¼ ì‘ì„±í•´ ë³¼ ê²ƒì´ë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class MainActivity : AppCompatActivity() {

    lateinit var adapter: ArrayAdapter&lt;Category&gt;

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        adapter = ArrayAdapter(this,
                               android.R.layout.simple_list_item_1,
                               DataService.categories)
        // ArrayAdapter([context], [android default layout], [data list object])                       
        listView.adapter = adapter
    }  
}    
</code></pre></div></div>

<p>ì´ì œëŠ” <strong><font color="Red">ListViewë¥¼ Customize</font></strong>í•´ì„œ ë§Œë“¤ì–´ ë³¼ ê²ƒì´ë‹¤.<br />
ìƒˆë¡œìš´ ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ ìƒì„±í•œë‹¤. layout/category_list_item.xml ìƒì„±.</p>

<p>Customized ListAdapter<br />
â‘  adapters packageë¥¼ ì‘ì„±í•˜ê¸°.  <br />
â‘¡ CategoryAdapter classë¥¼ ì‘ì„±í•˜ê³ , BaseAdapter classë¥¼ ìƒì†í•œë‹¤.<br />
â‘¢ <strong>getView()</strong> : ê°€ì¥ í° mothod, <strong>getItem()</strong> : position parameterë¥¼ ì‚¬ìš©í•´ì„œ itemì„ ì·¨ë“í•˜ëŠ” ê²ƒ, <strong>getItemId()</strong> : ì´ methodëŠ” ì‚¬ìš©ë˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ, return 0 ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.<br /></p>

<p>â€» ìš°ë¦¬ê°€ ì €ë²ˆì‹œê°„ì— Adapterë¥¼ ì´ˆê¸°í–ˆì„ë•Œ, ì‚¬ìš©í•œ ê° ìš”ì†Œë¥¼ í™•ì¸í•´ë³´ë©´, contextì™€ layoutìš”ì†Œ ê·¸ë¦¬ê³  ê° layoutë¦¬ìŠ¤íŠ¸ì— ì´ˆê¸°í™” ì‹œì¼œì£¼ê¸° ìœ„í•œ data setì´ í•„ìš”í–ˆë‹¤.<br /></p>

<p>â€» ìš°ë¦¬ëŠ” ì´ë²ˆ custom list view í´ë˜ìŠ¤ë¥¼ ì´ˆê¸°í™”ì‹œì¼œì¤„ë•Œ, contextì™€ data setì„ parameterë¡œì¨ ì„ ì–¸í•´ì„œ adapterë¥¼ ì´ˆê¸°í™”ì‹œì¼œ ì¤„ ê²ƒì´ë‹¤.</p>

<p><img src="/images/android/2020-04-08 custom adapter.png" alt="blog capture" width="300" title="capture img" /><br /></p>
<blockquote>
  <blockquote>
    <p>2020-04-08 custom adapter</p>
  </blockquote>
</blockquote>

<p>â€» ì§ì ‘ ë‚´ GitHubì— Repositoryì¶”ê°€í•´ì„œ ì‹¤ìŠµí•˜ê¸° <br />
ë‚´ GitHub Repository ì£¼ì†Œ :</p>
:ET